<UserControl x:Class="VisionPro.App.Views.Config.TeachMatchConfigControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:views="clr-namespace:VisionPro.App.Views">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*"/>
            <ColumnDefinition Width="3*"/>
        </Grid.ColumnDefinitions>

        <!-- Settings Section -->
        <ScrollViewer Grid.Column="0" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="10">
                <TextBlock Text="Matching Parameters" FontWeight="Bold" Foreground="{StaticResource TextPrimaryBrush}" Margin="0,0,0,10"/>
                
                <TextBlock Text="Confidence Threshold" Foreground="{StaticResource TextSecondaryBrush}"/>
                <Slider Minimum="0" Maximum="1" Value="{Binding Threshold}" TickFrequency="0.1" IsSnapToTickEnabled="True" Margin="0,0,0,10"/>
                <TextBlock Text="{Binding Threshold, StringFormat='{}{0:F2}'}" HorizontalAlignment="Right" Foreground="{StaticResource TextPrimaryBrush}"/>

                <TextBlock Text="Max Features" Foreground="{StaticResource TextSecondaryBrush}" Margin="0,10,0,0"/>
                <TextBox Text="{Binding MaxFeatures}" Margin="0,2,0,10"/>

                <Button Content="Teach Model" Padding="10" Margin="0,20,0,0" Background="{StaticResource PrimaryBrush}"/>
                <TextBlock Text="Click and drag on the image to select the pattern" Foreground="{StaticResource TextSecondaryBrush}" 
                           FontStyle="Italic" FontSize="11" TextWrapping="Wrap" Margin="0,5,0,0"/>
            </StackPanel>
        </ScrollViewer>

        <!-- ROI Selection Section -->
        <Border Grid.Column="1" Background="#111" Margin="10" CornerRadius="8">
            <Grid>
                <!-- Reuse ROIEditorControl for pattern selection -->
                <views:ROIEditorControl DataContext="{Binding RoiEditor}"/>
                
                <Border Background="#88000000" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="10" Padding="5" CornerRadius="3">
                    <TextBlock Text="Select Pattern ROI" Foreground="White" FontSize="12"/>
                </Border>
            </Grid>
        </Border>
    </Grid>
</UserControl>
